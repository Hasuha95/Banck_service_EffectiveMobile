<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>GORETS demo</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
        crossorigin="anonymous">
</head>

<body>
<style>
  body {
  background: url("https://img3.akspic.ru/crops/2/4/7/5/6/165742/165742-gora_fudzi_chernyj_ili_belyj-gora_fudzi-oisi-pyati_ozer_fudzi-vulkan-1920x1080.jpg");
  background-attachment: fixed;
  }
</style>


<div class="container" style="color: #f8f9fa">
  <h3 >Add new user</h3>
  <form id="mainForm" >
    <div class="mb-3">
      <label  class="form-label">name</label>
      <input placeholder="Value" name="name" class="form-control" id="name">
    </div>
    <div class="mb-3">
      <label  class="form-label">lastName</label>
      <input placeholder="Value" name="lastName" class="form-control" id="lastName">
    </div>
    <div class="mb-3">
      <label class="form-label">surname</label>
      <input placeholder="Value" name="surname" class="form-control" id="surname">
    </div>
    <div class="mb-3">
      <label class="form-label">TidateOfBirthtle</label>
      <input placeholder="Value" name="dateOfBirth" class="form-control" id="dateOfBerth">
    </div>
    <div class="mb-3">
      <label class="form-label">Numbers</label>
      <input placeholder="Value" name="listOfNumbers" class="form-control" id="listOfNumbers">
    </div>
    <div class="mb-3">
      <label class="form-label">Emails</label>
      <input placeholder="Value" name="listOfEmails" class="form-control" id="listOfEmails">
    </div>

    <button type="submit" class="btn btn-primary" onclick="sendFormToServer()">Create</button>
  </form>
</div>

<script>
    function sendFormToServer(){
        const el = document.getElementById("mainForm");
        const url = 'http://localhost:9506/Bank/api/v1';

        const name = el.name.value;
        const lastName = el.lastName.value;
        const surname = el.surname.value;
        const dateOfBirth = el.dateOfBirth.value;
        const listOfNumbers = el.listOfNumbers.value;
        const listOfEmails = el.listOfEmails.value;

        var newProduct = new Product(name, lastName, surname, dateOfBirth, listOfNumbers, listOfEmails);
        var data = JSON.stringify(newProduct);

        let xhr = new XMLHttpRequest();
        xhr.open("POST", url);
        xhr.setRequestHeader("Content-type", "application/json");
        xhr.send(data);
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                console.log("OK");
            }
        };
        return false;
        location.reload();
    }
</script>


</body>
</html>